# Conda-–æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ Mamba

## 0. –ß—Ç–æ —Ç–∞–∫–æ–µ —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ **conda-–æ–∫—Ä—É–∂–µ–Ω–∏–π** 

###  –ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é —ç—Ç–æ —Ä–µ—à–∞–µ—Ç

–í –±–∏–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ –∏ data science:

* —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ç—Ä–µ–±—É—é—Ç **—Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏** Python –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫;
* –æ–¥–Ω–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç —Å –¥—Ä—É–≥–∏–º–∏;
* —Å–∏—Å—Ç–µ–º–Ω—ã–π Python –ª–æ–º–∞—Ç—å –Ω–µ–ª—å–∑—è.

###  –†–µ—à–µ–Ω–∏–µ: –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ-–æ–∫—Ä—É–∂–µ–Ω–∏—è

**Conda-–æ–∫—Ä—É–∂–µ–Ω–∏–µ** ‚Äî —ç—Ç–æ:

* –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–∞–ø–∫–∞ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º Python;
* —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –ø—Ä–æ–≥—Ä–∞–º–º;
* –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–∏—Å—Ç–µ–º—É –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–µ–∫—Ç—ã.

–ö–∞–∂–¥–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

* –∏–º–µ–µ—Ç **—Å–≤–æ—ë –∏–º—è** (`phylo`, `rna`, `ml`),
* –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é,
* –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω–æ —Ü–µ–ª–∏–∫–æ–º –±–µ–∑ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π.

–ü—Ä–∏–º–µ—Ä:

```
base        ‚Üí —Å–∞–º conda (–ø–æ—á—Ç–∏ –Ω–µ —Ç—Ä–æ–≥–∞–µ–º)
phylo       ‚Üí iqtree, mafft, muscle
rnaseq      ‚Üí fastqc, hisat2, samtools
```

###  –ö–∞–Ω–∞–ª—ã (channels)

Conda —Å–∫–∞—á–∏–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–µ ¬´–∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –≤–æ–æ–±—â–µ¬ª, –∞ –∏–∑ **–∫–∞–Ω–∞–ª–æ–≤**:

* `conda-forge` ‚Äî –±–∞–∑–æ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã
* `bioconda` ‚Äî –±–∏–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
* `defaults` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫–∞–Ω–∞–ª Anaconda

 –í –±–∏–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ **–ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –Ω—É–∂–Ω—ã conda-forge + bioconda**.

---

## 1. –ß—Ç–æ —Ç–∞–∫–æ–µ **mamba**

**Mamba** ‚Äî —ç—Ç–æ:

* –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è conda-–æ–∫—Ä—É–∂–µ–Ω–∏–π,
* –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å conda,
* –Ω–æ **–≤ —Ä–∞–∑—ã –±—ã—Å—Ç—Ä–µ–µ**.

–í–∞–∂–Ω–æ:

* –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ç–µ –∂–µ —Å–∞–º—ã–µ,
* –∫–∞–Ω–∞–ª—ã —Ç–µ –∂–µ —Å–∞–º—ã–µ,
* –∫–æ–º–∞–Ω–¥—ã –ø–æ—á—Ç–∏ —Ç–µ –∂–µ —Å–∞–º—ã–µ.

–ü—Ä–æ—â–µ:

> **conda = —Å—Ç–∞–Ω–¥–∞—Ä—Ç**
> **mamba = –±—ã—Å—Ç—Ä—ã–π conda**

---

## 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ mamba (—á–µ—Ä–µ–∑ Miniforge)

### 2.1 –°–∫–∞—á–∞—Ç—å Miniforge (—É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç mamba)

```bash
wget "https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-$(uname)-$(uname -m).sh"
```


---

### 2.2 –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É

```bash
bash Miniforge3-Linux-x86_64.sh
```

–í–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

* –ø—Ä–æ–ª–∏—Å—Ç–∞—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é (`Enter`)
* —Å–æ–≥–ª–∞—Å–∏—Ç—å—Å—è –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é (`yes`)

–ó–∞—Ç–µ–º:

```bash
source ~/.bashrc
```

–ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
mamba --version
```

---

## 3. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Bioconda 
(–µ—Å–ª–∏ –∫–æ–º–º–∞–¥–Ω—ã –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–º–µ–Ω—è–π—Ç–µ mamba –Ω–∞ conda)

```bash
mamba config --add channels conda-forge
mamba config --add channels bioconda
mamba config --set channel_priority strict
```

–ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
mamba config --show channels
```

–û–∂–∏–¥–∞–µ–º–æ:

```
conda-forge
bioconda
defaults
```

---

## 4. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã mamba

### üîπ –°–æ–∑–¥–∞–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
mamba create -n myenv
```

–° –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏:

```bash
mamba create -n phylo iqtree mafft muscle
```

---

### üîπ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
mamba activate myenv
```

–í—ã—Ö–æ–¥:

```bash
mamba deactivate
```

---

### üîπ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º

```bash
mamba install iqtree
```

---

### üîπ –ü–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–æ–≤

```bash
mamba search fasttree
```

---

### üîπ –°–ø–∏—Å–æ–∫ –æ–∫—Ä—É–∂–µ–Ω–∏–π

```bash
mamba env list
```

---

### üîπ –£–¥–∞–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
mamba remove -n myenv --all
```

---

## 5. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è —Ä–∞–±–æ—Ç—ã

* ‚ùå –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ `base`
* ‚úÖ –æ–¥–Ω–æ –æ–∫—Ä—É–∂–µ–Ω–∏–µ = –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞
* ‚úÖ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ–≥—Ä–∞–º–º

–ü—Ä–∏–º–µ—Ä:

```bash
mamba create -n trees iqtree
mamba activate trees
iqtree2 -h
```

---

## 6. –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

* –∑–∞–±—ã–ª–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
* —Å–º–µ—à–∞–ª–∏ pip –∏ mamba
* –Ω–µ—Ç `channel_priority strict`
* –≤—Å—ë —Å—Ç–∞–≤—è—Ç –≤ `base`

---

## 7. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
mamba create -n test iqtree
mamba activate test
iqtree2 -h
```

–ï—Å–ª–∏ —Å–ø—Ä–∞–≤–∫–∞ –æ—Ç–∫—Ä—ã–ª–∞—Å—å ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

# 8 cheatsheet
–í —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ –≥–¥–µ –ª–µ–∂–∏—Ç —ç—Ç–æ—Ç –≥–∞–π–¥ –ª–µ–∂–∏—Ç –∫–∞—Ä—Ç–∏–Ω–∫–∞ —Å –Ω–∞–ø–æ–º–∏–Ω–∞–ª–∫–æ–π –ø—Ä–æ –∫–æ–Ω–¥—É, –æ–Ω–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º, –Ω–æ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∞—è.